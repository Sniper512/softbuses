"use client";
import { useEffect, useState } from "react";
import { animate } from "animejs"

const HeroLogoSection = () => {
  const [firstRenderDone, setFirstRenderDone] = useState(false);
  const [animationStarted, setAnimationStarted] = useState(false);

  useEffect(() => {
    setFirstRenderDone(true);
  }, []);
  useEffect(() => {
    if (!firstRenderDone || animationStarted) return;
    
    setAnimationStarted(true);
    
    // Animate using traditional stroke-dashoffset method for better control
    const paths = document.querySelectorAll(".logo path");
    paths.forEach((path, index) => {
      const pathLength = path.getTotalLength();
      path.style.strokeDasharray = pathLength;
      path.style.strokeDashoffset = pathLength;
      
      animate(path, {
        strokeDashoffset: 0,
        ease: 'linear',
        duration: 4000,
        delay: 2000 + (index * 200), // Stagger each path slightly
        loop: false,
      });
    });
  }, [firstRenderDone, animationStarted]);

  return (
    <>
      <svg
        width="500"
        height="500"
        viewBox="0 0 500 500"
        className={`logo w-full h-auto`}
        fill="none"
        xmlns="http://www.w3.org/2000/svg">
        <path
          d="M355.508 390.048L355.508 390.047C363.936 376.238 367.968 357.987 367.006 338.694C366.637 324.436 362.832 310.499 355.935 298.163L355.919 298.135L355.903 298.108C345.852 281.3 329.999 271.962 315.97 266.778C301.936 261.592 289.532 260.489 286.07 260.272L286.009 260.268L285.949 260.268L180.7 259.473L180.692 259.473H180.683H180.425C162.16 259.473 129.472 259.251 108.497 232.88C92.2115 212.402 87.5253 192.225 89.7079 174.24C91.8976 156.197 101.029 140.155 112.722 128.104C119.819 120.791 129.65 115.143 139.972 111.323C150.289 107.505 160.943 105.571 169.573 105.571H316.878C322.492 105.571 327.895 107.893 331.894 112.056C335.895 116.223 338.157 121.893 338.157 127.823C338.157 133.752 335.895 139.422 331.894 143.589C327.895 147.752 322.492 150.074 316.878 150.074H169.573C164.935 150.074 159.271 151.439 154.343 153.256C149.486 155.047 144.876 157.449 142.593 159.8L142.592 159.801C133.862 168.799 131.152 177.262 131.996 185.029C132.824 192.647 137.037 199.167 141.218 204.424L141.218 204.424C144.869 209.013 150.096 211.627 156.67 213.105C163.203 214.575 171.272 214.969 180.847 214.969C180.85 214.969 180.852 214.969 180.855 214.969L287.782 215.799C299.933 216.447 360.786 222.352 391.979 274.499C402.783 293.201 408.819 314.477 409.506 336.303L409.506 336.323L409.507 336.344C410.941 364.976 404.468 392.548 391.381 413.99C373.144 443.859 346.648 458.466 323.699 465.572C300.725 472.686 281.41 472.246 277.803 472.077L277.776 472.076L277.749 472.075C247.111 471.399 220.828 471.832 195.449 472.251L195.335 472.253L195.237 472.255C179.207 472.522 162.858 472.795 145.242 472.795C134.393 472.795 123.065 472.691 111.039 472.421C105.426 472.295 100.071 469.853 96.1588 465.599C92.2436 461.342 90.0986 455.622 90.2213 449.693C90.3439 443.765 92.7233 438.148 96.8084 434.074C100.89 430.002 106.339 427.802 111.951 427.928C142.656 428.625 168.982 428.186 194.393 427.763L194.657 427.758C220.581 427.326 247.344 426.881 278.931 427.59C278.938 427.59 278.945 427.591 278.952 427.591L279.746 427.624L279.746 427.623C281.145 427.685 293.605 427.898 308.708 423.654C324.492 419.218 343.426 409.836 355.508 390.048Z"
          stroke={"#74EC20"}
          strokeWidth="6"
          fill="none"
        />
        <path
          d="M111.498 364.847H111.497C105.864 364.847 100.455 362.578 96.4616 358.528C92.4675 354.477 90.2182 348.977 90.2182 343.235C90.2182 337.494 92.4675 331.993 96.4616 327.943C100.455 323.893 105.864 321.624 111.497 321.624C111.497 321.624 111.497 321.624 111.497 321.624L286.21 321.65H286.21C291.844 321.65 297.253 323.919 301.246 327.969C305.24 332.02 307.489 337.52 307.489 343.262C307.489 349.003 305.24 354.503 301.246 358.554C297.253 362.604 291.844 364.873 286.21 364.873C286.21 364.873 286.21 364.873 286.21 364.873L111.498 364.847Z"
          stroke={"white"}
          strokeWidth="6"
          fill="none"
        />
        <path
          d="M320.864 163.861C339.459 163.861 354.534 148.574 354.534 129.716C354.534 110.857 339.459 95.5699 320.864 95.5699C302.269 95.5699 287.195 110.857 287.195 129.716C287.195 148.574 302.269 163.861 320.864 163.861Z"
          stroke={"white"}
          strokeWidth="6"
          strokeMiterlimit="10"
          fill="none"
        />
        <path
          d="M343.631 343.234C343.631 360.904 329.515 375.175 312.167 375.175C294.819 375.175 280.703 360.904 280.703 343.234C280.703 325.565 294.819 311.294 312.167 311.294C329.515 311.294 343.631 325.565 343.631 343.234Z"
          stroke={"#74EC20"}
          strokeWidth="6"
          fill="none"
        />
        <path
          d="M384.442 195.359H384.441C380.61 195.354 376.849 194.299 373.556 192.302C370.264 190.306 367.561 187.441 365.737 184.007C363.937 180.619 363.06 176.804 363.198 172.956C366.988 152.752 368.113 135.48 366.835 121.539C365.557 107.601 361.855 96.7608 355.768 89.7184L355.696 89.6351L355.616 89.5594C339.909 74.6844 322.573 70.1471 301.417 70.4361H111.03C105.397 70.4361 99.9876 68.1668 95.9945 64.1173C92.0005 60.0666 89.7511 54.5663 89.7511 48.8247C89.7511 43.0831 92.0005 37.5827 95.9945 33.5321C99.9876 29.4825 105.397 27.2133 111.03 27.2133H301.432H301.442L301.452 27.2132C333.863 26.9082 362.987 35.3271 385.556 62.7908C399.238 79.4399 406.839 102.822 409.235 125.844C411.625 148.818 408.794 171.053 402.001 185.459C400.002 188.517 397.515 191.158 394.546 192.781C391.439 194.478 387.967 195.364 384.442 195.359Z"
          stroke={"white"}
          strokeWidth="6"
          fill="none"
        />
        <path
          d="M396.324 198.285C396.324 215.955 382.208 230.226 364.86 230.226C347.512 230.226 333.396 215.955 333.396 198.285C333.396 180.616 347.512 166.345 364.86 166.345C382.208 166.345 396.324 180.616 396.324 198.285Z"
          stroke={"#74EC20"}
          strokeWidth="6"
          fill="none"
        />
      </svg>
    </>
  );
};

export default HeroLogoSection;