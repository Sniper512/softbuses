"use client";
import { useEffect, useState } from "react";
import { animate } from "animejs"

const HeroLogoSection = () => {
  const [firstRenderDone, setFirstRenderDone] = useState(false);
  const [animationStarted, setAnimationStarted] = useState(false);

  useEffect(() => {
    setFirstRenderDone(true);
  }, []);
  useEffect(() => {
    if (!firstRenderDone || animationStarted) return;

    setAnimationStarted(true);

    // Animate using traditional stroke-dashoffset method for better control
    const paths = document.querySelectorAll(".logo path");
    paths.forEach((path, index) => {
      const pathLength = path.getTotalLength();
      path.style.strokeDasharray = pathLength;
      path.style.strokeDashoffset = pathLength;

      animate(path, {
        strokeDashoffset: 0,
        ease: 'linear',
        duration: 4000,
        delay: 2000 + (index * 200),
        loop: false,
      });
    });
  }, [firstRenderDone, animationStarted]);

  return (
    <>
      <svg width="500"
        height="500"
        viewBox="0 0 500 500"
        className={`logo w-full h-auto`}
        fill="none"
        xmlns="http://www.w3.org/2000/svg">
        <path d="M169.573 105.571H316.878C322.492 105.571 327.895 107.893 331.894 112.056C335.895 116.223 338.157 121.893 338.157 127.823C338.157 133.752 335.895 139.422 331.894 143.589C327.895 147.752 322.492 150.074 316.878 150.074H169.573C164.935 150.074 159.271 151.438 154.343 153.255C149.637 154.991 145.164 157.299 142.813 159.58L142.593 159.8C133.862 168.798 131.152 177.262 131.996 185.029C132.824 192.647 137.038 199.167 141.219 204.424C144.869 209.013 150.097 211.627 156.67 213.105C163.201 214.574 171.267 214.968 180.838 214.968V214.969L287.774 215.798C299.907 216.444 360.79 222.341 391.987 274.513C402.786 293.212 408.819 314.483 409.506 336.303L409.508 336.344C410.941 364.976 404.468 392.548 391.382 413.99C373.145 443.859 346.648 458.466 323.699 465.572C300.726 472.686 281.41 472.246 277.803 472.078L277.775 472.076H277.749C247.066 471.398 220.749 471.833 195.335 472.253H195.334C179.273 472.521 162.893 472.795 145.241 472.795C134.393 472.795 123.065 472.692 111.039 472.422C105.426 472.296 100.071 469.853 96.1592 465.599C92.244 461.342 90.099 455.621 90.2217 449.693C90.3444 443.765 92.7236 438.149 96.8086 434.074C100.891 430.002 106.339 427.802 111.951 427.927C142.762 428.627 169.165 428.183 194.657 427.758C220.577 427.326 247.336 426.881 278.918 427.589L279.746 427.624V427.622C281.147 427.684 293.606 427.898 308.708 423.654C324.246 419.287 342.835 410.128 354.937 390.967L355.508 390.047C363.932 376.244 367.963 358.004 367.006 338.721H367.007C366.642 324.454 362.836 310.506 355.935 298.163L355.919 298.135L355.902 298.108L355.428 297.325C345.357 281.008 329.78 271.881 315.97 266.778C301.936 261.592 289.533 260.489 286.07 260.272L286.01 260.268L285.948 260.267L180.7 259.473L180.691 259.472H180.425C162.16 259.472 129.471 259.251 108.497 232.88C92.2114 212.403 87.5254 192.225 89.708 174.24C91.8293 156.761 100.465 141.159 111.633 129.246L112.722 128.104C119.819 120.791 129.65 115.143 139.972 111.323C150.289 107.505 160.943 105.571 169.573 105.571Z" stroke="#69FF00" strokeWidth="6" />
        <path d="M111.497 321.624L286.21 321.65C291.843 321.65 297.252 323.919 301.245 327.969C305.239 332.019 307.489 337.52 307.49 343.261C307.49 349.003 305.239 354.504 301.245 358.554C297.252 362.604 291.843 364.873 286.21 364.873L111.497 364.846C105.864 364.846 100.454 362.578 96.4612 358.528C92.4672 354.477 90.218 348.977 90.218 343.235C90.2181 337.494 92.4674 331.994 96.4612 327.943C100.454 323.894 105.864 321.624 111.497 321.624Z" stroke="white" strokeWidth="6" />
        <path d="M320.864 163.861C339.459 163.861 354.534 148.574 354.534 129.716C354.534 110.857 339.459 95.5699 320.864 95.5699C302.269 95.5699 287.195 110.857 287.195 129.716C287.195 148.574 302.269 163.861 320.864 163.861Z" stroke="white" strokeWidth="6" strokeMiterlimit="10" />
        <path d="M312.167 311.293C329.514 311.293 343.63 325.564 343.63 343.234C343.63 360.903 329.514 375.174 312.167 375.174C294.819 375.174 280.703 360.903 280.703 343.234C280.703 325.564 294.819 311.294 312.167 311.293Z" stroke="#69FF00" strokeWidth="6" />
        <path d="M301.452 27.2129C333.863 26.9079 362.987 35.3273 385.557 62.791C399.238 79.44 406.84 102.822 409.235 125.845C411.626 148.818 408.792 171.051 402 185.457C400.001 188.516 397.515 191.157 394.546 192.78C391.44 194.478 387.966 195.364 384.441 195.358L383.724 195.346C380.142 195.219 376.643 194.174 373.557 192.303C370.264 190.306 367.56 187.441 365.736 184.008C363.934 180.615 363.059 176.793 363.2 172.939C366.987 152.742 368.112 135.476 366.835 121.539C365.557 107.601 361.855 96.7611 355.768 89.7188L355.695 89.6348L355.615 89.5596L354.878 88.8691C339.362 74.5401 322.234 70.1497 301.401 70.4365H111.03C105.397 70.4365 99.9872 68.1668 95.9941 64.1172C92.0002 60.0666 89.751 54.5657 89.751 48.8242C89.7511 43.0829 92.0003 37.5827 95.9941 33.5322C99.9872 29.4827 105.397 27.2129 111.03 27.2129H301.452Z" stroke="white" strokeWidth="6" />
        <path d="M379.86 162.344C397.208 162.344 411.324 176.615 411.324 194.285C411.324 211.954 397.208 226.225 379.86 226.225C362.512 226.225 348.396 211.954 348.396 194.285C348.396 176.616 362.512 162.345 379.86 162.344Z" fill="none" stroke="#69FF00" strokeWidth="6" />
      </svg>

    </>
  );
};

export default HeroLogoSection;